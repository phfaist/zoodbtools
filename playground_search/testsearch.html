<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <style type="text/css">
html, body { width: 100%; height: 100%; margin: 0px; padding: 0px; background-color: rgb(220,220,255); }
body { padding: 20px; box-sizing: border-box; background-color: white; }

    </style>
<script type="text/javascript">
MathJax = {
    tex: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [['\\[', '\\]']],
        processEnvironments: true,
        processRefs: true,

        // equation numbering on
        tags: 'ams'
    },
    options: {
        // all MathJax content is marked with CSS classes
        // skipHtmlTags: 'body',
        // processHtmlClass: 'display-math|inline-math',
    },
    startup: {
        pageReady: function() {
            // override the default "typeset everything on the page" behavior to
            // only typeset whatever we have explicitly marked as math
            return typesetPageMathPromise();
        }
    }
};
function typesetPageMathPromise()
{
    var elements = document.querySelectorAll('.display-math, .inline-math');
    return MathJax.typesetPromise(elements);
}
</script>

<script type="module">
async function setupSearch()
{
    const { SearchIndex } = await import('@phfaist/zoodbtools_search/searchindex.js');
    const { SearchWidget } = await import('@phfaist/zoodbtools_search/searchwidget.js');
    const searchIndexDocsJsonSource = await import('bundle-text:./ecztestsrchidx.json');

    console.log({searchIndexDocsJsonSource});

    const domContainer = window.document.getElementById('SearchWidget');

    const srchData = JSON.parse(searchIndexDocsJsonSource);

    const srchIndex = SearchIndex.load(search_index_data);

    const resolve_href = (object_type, object_id, object_doc) => {
        return `javascript:alert('Clicked ${object_type}:${object_id}');`;
    };

    window.search_widget = new SearchWidget(search_index, {
        dom_container,
        initial_search_query,
        resolve_href,
        context_length: 200,
        getMathJax: () => window.MathJax,
        tippyAppearanceTheme: 'light',
    });
}
window.addEventListener('load', setupSearch);
</script>

  </head>
  <body>
    <div id="SearchWidget">
        <span style="font-style: italic">loading â€¦</span>
    </div>

<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  </body>
</html>
